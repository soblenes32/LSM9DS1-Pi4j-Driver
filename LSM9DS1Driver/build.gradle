apply plugin: 'java'
apply plugin: 'eclipse'

repositories {
    //mavenCentral()
    maven  { url "http://repo1.maven.org/maven2" }
}

jar {
    baseName = 'LSM9DS1'
    version =  '0.1.0'
}

sourceCompatibility = 1.8
targetCompatibility = 1.8

dependencies {
	//compile fileTree(dir: 'libs', include: ['*.jar'])
	//compile files("external_classes")
	compile group: 'commons-collections', name: 'commons-collections', version: '3.2.2'
	compile group: 'com.pi4j', name: 'pi4j-core', version: '1.1'
	compile group: 'com.pi4j', name: 'pi4j-device', version: '1.1'
    testCompile group: 'junit', name: 'junit', version: '4.+'
}

task wrapper(type: Wrapper) {
    gradleVersion = '2.3'
}

task copyToLib(type: Copy) {
	from configurations.runtime
	into 'build/libs'
}

build.dependsOn(clean, copyToLib)

task deplexe (dependsOn: jar, type:Exec) {
	commandLine 'deployAndExecute.cmd'
}